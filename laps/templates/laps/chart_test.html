<html>
	<head>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
		<script src="http://code.highcharts.com/highcharts.js"></script>
		<script type="text/javascript">
			$(function () {
				$.getJSON('http://localhost:8000/laps/chart/1/', function( data ) {
				var best = []
				for (i = 0; i < data.best.length; i++)
					best.push(parseFloat(data.best[i]))
				var avg = []
				for (i = 0; i < data.avg.length; i++)
					avg.push(parseFloat(data.avg[i]))
			    $('#container').highcharts({
			        chart: {
			            type: 'line'
			        },
			        title: {
			            text: 'Best and Average per Race'
			        },
			        xAxis: {
			        	title: {
			        		text: 'Race'
			        	},
			            categories: data.date
			        },
			        yAxis: {
			            title: {
			                text: 'Lap Time'
			            }
			        },
			        series: [{
			            name: 'Best',
			            data: best
			        }, {
			            name: 'Average',
			            data: avg
			        }]
			    });
			});
			});
		</script>
	</head>
	<body>
		<p>before chart</p>
		<div id="container" style="width:100%; height:400px;"></div>
		<p>after chart</p>
	</body>
</html>